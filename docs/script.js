!function(){var t={916:function(){const t=document.getElementById("splash-page"),n=document.getElementById("countdown-page"),e=document.getElementById("game-page"),r=document.getElementById("score-page"),o=document.getElementById("error-page"),i=document.querySelector(".navigation"),u=document.querySelector(".countdown__caption"),c=document.querySelector(".error__caption"),s=document.querySelector(".quiz"),a=document.querySelector(".questions"),l=document.querySelectorAll(".input-box"),d=document.querySelector(".btn--start"),m=document.querySelector(".btn-quiz-box"),h=document.querySelector(".btn--wrong"),f=document.querySelector(".btn--right"),g=document.querySelector(".btn--play-again"),S=document.querySelector(".table-score__item--final-time > td"),y=document.querySelector(".table-score__item--base-time > td"),p=document.querySelector(".table-score__item--penalty-time > td");let w=null,q={isPageSplashShow:!0,isPageCountdownShow:!1,isPageGameShow:!1,isPageScoreShow:!1,isPageErrorShow:!1,isBtnsQuizShow:!1,isBtnStartShow:!0,isBtnPlayAgainShow:!1,isBtnStartPush:!1,isChoiceMade:!1,isQuestionEnd:!1,markedValue:null,countdownValue:3,scrollPosition:0,scrollToEnd:0,scrollStep:null,activeQuestion:1,equationsArray:null,equationsRight:0,equationsWrong:0,guessArray:null,questionAmount:0,quizPenalty:1500,quizResult:{},timeQuizStep:10,timeQuiz:0,timeQuizFinal:0,timeQuizPenalty:0,timeQuizFormatted:null,timeQuizFinalFormatted:null,timeQuizPenaltyFormatted:null};const z={...q},v=(t,n)=>function(){return n(t(...arguments))};function P(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];return n.reduce(v)}class E extends Error{constructor(t){super(t),this.name="ErrorCustom",this._fromFunction=null}get fromFunction(){if(null!==this._fromFunction)return this._fromFunction;const t=this.stack.indexOf(" at ",0),n=this.stack.indexOf("(",t),e=this.stack.slice(t,n).trim();return this._fromFunction=e,this._fromFunction}}function _(t){return JSON.parse(JSON.stringify(t))}function Q(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,e=t-.5+Math.random()*(n-t+1);return Math.round(e)}function b(){const t=Q(0,9),n=Q(0,9);return{value:`${t} <span>x</span> ${n} <span>=</span> ${t*n}`,evaluated:!0}}function $(){const t=Q(0,9),n=Q(0,9),e=t*n,r=[`${t+1} <span>x</span> ${n} <span>=</span> ${e}`,`${t} <span>x</span> ${n+1} <span>=</span> ${e}`,`${t} <span>x</span> ${n} <span>=</span> ${e+1}`];return{value:r[Q(0,r.length-1)],evaluated:!1}}function A(t,n){const e=[];for(let r=0;r<t;r++)e.push(n());return e}function x(t){const n=t%1e3;let e=Math.floor(t/1e3),r=Math.floor(e/60),o=Math.floor(r/60);return e=e>=60?e%60:e,r=r>=60?r%60:r,{ms:n,sec:e,min:r,hr:o}}function F(t){return`${t.hr}h : ${t.min}m : ${t.sec}s : ${t.ms}ms`}function B(t){const n=t.hr||null,e=t.min||null,r=t.sec||null,o=t.ms||null;let i="0";return n?i=`${t.hr}h:${t.min}m:${t.sec}s:${t.ms}ms`:e?i=`${t.min}m:${t.sec}s:${t.ms}ms`:r?i=`${t.sec}s:${t.ms}ms`:o&&(i=`${t.ms}ms`),i}function C(t){return JSON.parse(localStorage.getItem(t))}function L(t){const n=t.markedValue.querySelector("input").id;return t.markedValue=n,_(t)}function M(t){return l.forEach((t=>t.classList.remove("input-box--active"))),t.isChoiceMade=!1,_(t)}function k(t){return document.getElementById(`${t.markedValue}`).parentElement.classList.add("input-box--active"),t.isChoiceMade=!0,_(t)}function O(t){const n=Number(t.markedValue.split("-")[1]);return t.questionAmount=n,_(t)}function G(t){const n=Q(1,t.questionAmount),e=t.questionAmount-n;return t.equationsRight=n,t.equationsWrong=e,_(t)}function V(t){const n=[...A(t.equationsRight,b),...A(t.equationsWrong,$)];return t.equationsArray=n,_(t)}function I(t){const n=function(t){const n=[...t];let e,r=n.length;for(;0!=r;)e=Math.floor(Math.random()*r),r-=1,[n[r],n[e]]=[n[e],n[r]];return n}(t.equationsArray);return t.shuffleArray=n,_(t)}function R(t){return d.disabled=!1,d.focus(),t.isBtnStartPush=!1,_(t)}function T(t){return d.disabled=!0,t.isBtnStartPush=!0,_(t)}function j(n){return t.hidden=!1,n.isPageSplashShow=!0,_(n)}function H(n){return t.hidden=!0,n.isPageSplashShow=!1,_(n)}function N(t){return n.hidden=!1,t.isPageCountdownShow=!0,_(t)}function J(t){return n.hidden=!0,t.isPageCountdownShow=!1,_(t)}function W(t){return e.hidden=!1,t.isPageGameShow=!0,_(t)}function D(t){return e.hidden=!0,t.isPageGameShow=!1,_(t)}function K(t){return r.hidden=!1,t.isPageScoreShow=!0,_(t)}function U(t){return r.hidden=!0,t.isPageScoreShow=!1,_(t)}function X(t){return o.hidden=!1,t.isPageErrorShow=!0,_(t)}function Y(t){return o.hidden=!0,t.isPageErrorShow=!1,_(t)}function Z(t){return d.hidden=!1,t.isBtnStartShow=!0,_(t)}function tt(t){return d.hidden=!0,t.isBtnStartShow=!1,_(t)}function nt(t){return m.classList.add("btn-quiz-box--active"),t.isBtnsQuizShow=!0,_(t)}function et(t){return m.classList.remove("btn-quiz-box--active"),t.isBtnsQuizShow=!1,_(t)}function rt(t){return g.hidden=!1,g.focus(),t.isBtnPlayAgainShow=!0,_(t)}function ot(t){return g.hidden=!0,t.isBtnPlayAgainShow=!1,_(t)}function it(t){return new Promise((n=>{let e=t.timeQuiz;const r=t.timeQuizStep,o=setInterval((()=>{q.isQuestionEnd?(clearInterval(o),n(e)):e+=r}),r)})).then((t=>function(t){try{P(ht,ft,mt,D,gt,et,K,yt,St,rt,pt)(Object.assign({},q,{timeQuiz:t}))}catch(t){throw new E("Error stop time quiz")}}(t))).catch((t=>vt(t))),_(t)}function ut(t){return u.textContent=t.countdownValue,new Promise((n=>{let e=t.countdownValue;!function t(){-1!==e?setTimeout((function(){e-=1,u.textContent=e,t()}),1e3):n(e)}()})).then((()=>{!function(){try{if(function(t){return 0!==t.countdownValue}(q))return;P(J,tt,ct,W,st,nt,it,pt)(_(q))}catch(t){throw new E("Error run quiz")}}()})).catch((t=>vt(t))),t.countdownValue=0,_(t)}function ct(t){s.innerHTML="";const n=document.createElement("div");return t.equationsArray.forEach(((t,e)=>{const r=document.createElement("p");r.classList.add("quiz__item"),0===e&&r.classList.add("quiz__item--active"),r.insertAdjacentHTML("beforeend",t.value),n.appendChild(r)})),s.appendChild(n),_(t)}function st(t){const n=document.querySelector(".quiz__item").clientHeight+20,e=i.scrollHeight-i.clientHeight;return t.scrollToEnd=e,t.scrollStep=n,_(t)}function at(t){let n=t.scrollPosition;return t.scrollPosition<t.scrollToEnd?n+=t.scrollStep:n=t.scrollToEnd,i.scroll({top:n,left:0,behavior:"smooth"}),t.scrollPosition=n,_(t)}function lt(t,n){const e=t.guessArray?[...t.guessArray]:[];return e.push(n),t.guessArray=e,_(t)}function dt(t){let n=t.activeQuestion;const e=document.querySelector(".quiz__item--active"),r=document.querySelector(".quiz__item--active + .quiz__item");return n===t.questionAmount?(n=null,t.isQuestionEnd=!0,e.classList.remove("quiz__item--active")):(n+=1,e.classList.remove("quiz__item--active"),r.classList.add("quiz__item--active")),t.activeQuestion=n,_(t)}function mt(t){const n=t.timeQuiz,e=t.timeQuizFinal,r=t.timeQuizPenalty,o=x(n),i=x(e),u=x(r);return t.timeQuizFormatted=o,t.timeQuizFinalFormatted=i,t.timeQuizPenaltyFormatted=u,_(t)}function ht(t){let n=0,e=0;return t.equationsArray.forEach(((r,o)=>{r.evaluated===t.guessArray[o]?e+=1:n+=1})),t.quizResult.wrongGuess=n,t.quizResult.rightGuess=e,_(t)}function ft(t){const n=t.quizPenalty,e=t.quizResult.wrongGuess*n,r=t.timeQuiz+e;return t.timeQuizFinal=r,t.timeQuizPenalty=e,_(t)}function gt(t){return S.textContent=F(t.timeQuizFinalFormatted),y.textContent=F(t.timeQuizFormatted),p.textContent=F(t.timeQuizPenaltyFormatted),_(t)}function St(t){let n=C("MathSprintGame")||null;if(n)for(let t in n){const e=`label[for="value-${t}"] .best-score__value`,r=document.querySelector(e),o=B(x(n[t]));r.textContent=o}return _(t)}function yt(t){let n=C("MathSprintGame")||null,e={};const r=String(t.questionAmount),o=t.timeQuizFinal;let i=null;var u;return n&&n[r]&&(i=n[r]),i&&i>o?(n[r]=o,e={...n}):e={[r]:t.timeQuizFinal,...n},"MathSprintGame",u=e,localStorage.setItem("MathSprintGame",JSON.stringify(u)),_(t)}function pt(t){return q=t,_(t)}function wt(t,n){return w=n,console.log(`Error ${String.fromCodePoint(9940)}\n\n    ${String.fromCodePoint(128030)} ${w.message}\n    ${String.fromCodePoint(127873)} ${w.fromFunction}\n    `),console.dir(w),_(t)}function qt(t){return c.textContent=w.message,_(t)}function zt(t){try{if(!0===q.isQuestionEnd)return;if(!1===q.isPageGameShow)return;P(lt,at,dt,pt)(_(q),t)}catch(t){throw new E("Error push buttons quiz")}}function vt(t){P(wt,H,J,D,U,tt,et,qt,X,rt,pt)(Object.assign({},q,{isBtnPlayAgainShow:!0}),t)}a.addEventListener("click",(t=>{try{!function(t){try{if(function(t){return!t.target.classList.contains("input-box")}(t))return;P(L,M,k,O,G,V,I,R,pt)(Object.assign({},q,{markedValue:t.target}))}catch(t){throw new E("Error preparing data for the game")}}(t)}catch(t){vt(t)}})),d.addEventListener("click",(()=>{try{!function(){try{if(!1===q.isChoiceMade)return;if(!0===q.isBtnStartPush)return;P(T,H,N,ut,pt)(_(q))}catch(t){throw new E("Error countdown timer")}}()}catch(t){vt(t)}})),h.addEventListener("click",(()=>{try{zt(!1)}catch(t){vt(t)}})),f.addEventListener("click",(()=>{try{zt(!0)}catch(t){vt(t)}})),window.addEventListener("keydown",(t=>{try{switch(t.key){case"ArrowLeft":case"w":zt(!1);break;case"ArrowRight":case"r":zt(!0)}}catch(t){vt(t)}})),g.addEventListener("click",(()=>{try{!function(){try{if(!1===q.isBtnPlayAgainShow)return;P(Y,ot,U,M,j,Z,pt)(_(z))}catch(t){throw new E("Error play again")}}()}catch(t){vt(t)}})),St(_(q))}},n={};function e(r){var o=n[r];if(void 0!==o)return o.exports;var i=n[r]={exports:{}};return t[r](i,i.exports,e),i.exports}e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,{a:n}),n},e.d=function(t,n){for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},function(){"use strict";e(916)}()}();